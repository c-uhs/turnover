\input{../config.tex}
% colors
\newcommand{\colorx}{C1}
\newcommand{\colort}{\colorx!50!black}
\newcommand{\colorw}{\colorx}
% document
\begin{document}
\begin{tikzpicture}[
  pie/.style = {
    anchor=center,
    node distance=0.8cm,
  },
  wisp/.style = {
    draw = \colorw,
    fill = \colorw,
    thick,
  },
]
% nodes ----------------------------------------------------------------------------------------
\node(x1) [tbox=\colorx] at (0.0,0.0)          {$H$};
\node(x3) [tbox=\colorx, below = 0.5cm of x1]  {$L$};
\coordinate (x2) at ($(x1)!0.5!(x3)$);
\coordinate[left  = 1cm of x2](x2a) ;
\coordinate[right = 1cm of x2](x2b);
% arrows ---------------------------------------------------------------------------------------
\draw[arrow=\colort,wide=\turnover,fill=none,-{Latex[length=4mm]}] (x3) -| (x2a) |- (x1); 
\draw[arrow=\colort,wide=\turnover,fill=none,-{Latex[length=4mm]}] (x1) -| (x2b) |- (x3);
% pies -----------------------------------------------------------------------------------------
\node(p13) [pie, right of = x2b] {\includegraphics[width=1.25cm]{flow-high}};
\node(p31) [pie, left  of = x2a] {\includegraphics[width=1.25cm]{flow-low}};
\node(c13)[draw=\colorw,thick,circle,minimum width=1cm] at (p13) {};
\draw[wisp] (x2b) -- (c13.165) -- (c13.195)  -- cycle;
\node(c31)[draw=\colorw,thick,circle,minimum width=1cm] at (p31) {};
\draw[wisp] (x2a) -- (c31.15) -- (c31.345)  -- cycle;
\end{tikzpicture}
\end{document}
% eof
