\input{../config.tex}
% colors
\newcommand{\colorx}{gray}
\newcommand{\colore}{\colorx!20!white}
\newcommand{\colori}{\colorx!40!white}
\newcommand{\coloro}{\colorx!40!black}
\newcommand{\colort}{\colorx!50!red}
% global turn labels on/off
\newcommand{\arrowlabel}[1]{{#1}}
\newcommand{\nodelabel}[1]{{#1}}
% document
\begin{document}
\begin{tikzpicture}
% nodes ----------------------------------------------------------------------------------------
% main 3 nodes
\node(x1) [tbox=\colorx] at (0.0,0.0)       {\nodelabel{$x_1$}};
\node(x2) [tbox=\colorx, below = of x1]     {\nodelabel{$x_2$}};
\node(x3) [tbox=\colorx, below = of x2]     {\nodelabel{$x_3$}};
% input nodes (no tbox)
\node(i1) [tbox=\colore, left = 2.5cm of x1] {\nodelabel{$e_1$}};
\node(i2) [tbox=\colore, left = 2.5cm of x2] {\nodelabel{$e_2$}};
\node(i3) [tbox=\colore, left = 2.5cm of x3] {\nodelabel{$e_3$}};
% output nodes (no tbox)
\node(o1) [tbox=white, right = 2.5cm of x1] {}; %{\nodelabel{$o_3$}};
\node(o2) [tbox=white, right = 2.5cm of x2] {}; %{\nodelabel{$o_3$}};
\node(o3) [tbox=white, right = 2.5cm of x3] {}; %{\nodelabel{$o_3$}};
% arrows ---------------------------------------------------------------------------------------
% entry
\draw[arrow=\colori] (i1) edge["\arrowlabel{$\nu$}", near start] (x1);
\draw[arrow=\colori] (i2) edge["\arrowlabel{$\nu$}", near start] (x2);
\draw[arrow=\colori] (i3) edge["\arrowlabel{$\nu$}", near start] (x3);
% exit
\draw[arrow=\coloro] (x1) edge["\arrowlabel{$\mu$}", near end]   (o1);
\draw[arrow=\coloro] (x2) edge["\arrowlabel{$\mu$}", near end]   (o2);
\draw[arrow=\coloro] (x3) edge["\arrowlabel{$\mu$}", near end]   (o3);
% turnover
\draw[arrow=\colort] (x1) edge["\arrowlabel{$\phi_{12}$}", bend left=20] (x2); 
\draw[arrow=\colort] (x2) edge["\arrowlabel{$\phi_{21}$}", bend left=20] (x1);
\draw[arrow=\colort] (x3) edge["\arrowlabel{$\phi_{32}$}", bend left=20] (x2); 
\draw[arrow=\colort] (x2) edge["\arrowlabel{$\phi_{23}$}", bend left=20] (x3);
\draw[arrow=\colort] (x1) edge["\arrowlabel{$\phi_{13}$}", bend left=60, near end] (x3); 
\draw[arrow=\colort] (x3) edge["\arrowlabel{$\phi_{31}$}", bend left=60, near end] (x1);
\end{tikzpicture}
\end{document}
% eof
